{
  "request": {
    "method": "POST",
    "url": "https://api.anthropic.com/v1/messages",
    "headers": {
      "Accept-Encoding": "gzip, deflate",
      "Connection": "keep-alive",
      "x-stainless-timeout": "NOT_GIVEN",
      "Accept": "application/json",
      "Content-Type": "application/json",
      "User-Agent": "Anthropic/Python 0.75.0",
      "X-Stainless-Lang": "python",
      "X-Stainless-Package-Version": "0.75.0",
      "X-Stainless-OS": "Linux",
      "X-Stainless-Arch": "arm64",
      "X-Stainless-Runtime": "CPython",
      "X-Stainless-Runtime-Version": "3.11.14",
      "X-Stainless-Async": "false",
      "anthropic-version": "2023-06-01",
      "x-stainless-retry-count": "0",
      "x-stainless-read-timeout": "600",
      "Content-Length": "601",
      "x-datadog-trace-id": "15859043684399505291",
      "x-datadog-parent-id": "5191877969924181564",
      "x-datadog-sampling-priority": "1",
      "x-datadog-tags": "_dd.p.dm=-0,_dd.p.llmobs_parent_id=8965570597458834600,_dd.p.llmobs_trace_id=139827275261659115246488267356789432703,_dd.p.tid=6931c0ef00000000",
      "traceparent": "00-6931c0ef00000000dc16a434c608df8b-480d41818281ce3c-01",
      "tracestate": "dd=p:480d41818281ce3c;s:1;t.dm:-0;t.llmobs_parent_id:8965570597458834600;t.llmobs_trace_id:139827275261659115246488267356789432703;t.tid:6931c0ef00000000"
    },
    "body": "{\"max_tokens\":100,\"messages\":[{\"role\":\"user\",\"content\":\"What is the weather in New York City?\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"I can help you check the current weather in New York City. Let me get that information for you right away.\"},{\"type\":\"tool_use\",\"name\":\"get_weather\",\"input\":{\"location\":\"New York City\"},\"id\":\"call_123\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"tool_use_id\":\"call_123\",\"content\":\"{\\\"location\\\": \\\"New York City\\\", \\\"temperature\\\": \\\"70F\\\", \\\"description\\\": \\\"Sunny\\\"}\"}]}],\"model\":\"claude-sonnet-4-5-20250929\",\"stream\":true,\"temperature\":0.5}"
  },
  "response": {
    "status": {
      "code": 200,
      "message": "OK"
    },
    "headers": {
      "Date": "Thu, 04 Dec 2025 17:12:18 GMT",
      "Content-Type": "text/event-stream; charset=utf-8",
      "Transfer-Encoding": "chunked",
      "Connection": "keep-alive",
      "CF-RAY": "9a8ced7a3abb0f49-EWR",
      "Cache-Control": "no-cache",
      "anthropic-ratelimit-output-tokens-limit": "2500000",
      "anthropic-ratelimit-output-tokens-remaining": "2500000",
      "anthropic-ratelimit-output-tokens-reset": "2025-12-04T17:12:15Z",
      "anthropic-ratelimit-input-tokens-limit": "20000000",
      "anthropic-ratelimit-input-tokens-remaining": "20000000",
      "anthropic-ratelimit-input-tokens-reset": "2025-12-04T17:12:15Z",
      "retry-after": "46",
      "anthropic-ratelimit-tokens-limit": "22500000",
      "anthropic-ratelimit-tokens-remaining": "22500000",
      "anthropic-ratelimit-tokens-reset": "2025-12-04T17:12:15Z",
      "request-id": "req_011CVn284KLRe83x7VQazRcg",
      "strict-transport-security": "max-age=31536000; includeSubDomains; preload",
      "anthropic-organization-id": "4257e925-ee99-4ee8-9c62-8e53716d5203",
      "x-envoy-upstream-service-time": "2374",
      "cf-cache-status": "DYNAMIC",
      "X-Robots-Tag": "none",
      "Server": "cloudflare"
    },
    "body": "event: message_start\ndata: {\"type\":\"message_start\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01XmbbhEUoimAFpLbPoSzbXL\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":129,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"cache_creation\":{\"ephemeral_5m_input_tokens\":0,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":2,\"service_tier\":\"standard\"}}    }\n\nevent: content_block_start\ndata: {\"type\":\"content_block_start\",\"index\":0,\"content_block\":{\"type\":\"text\",\"text\":\"\"}  }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"The current\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" weather in New York City is:\"}             }\n\nevent: ping\ndata: {\"type\": \"ping\"}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"\\n- **Temperature:**\"}               }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" 70\u00b0F\"}}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"\\n- **Conditions\"}            }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\":** Sunny\"}          }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"\\n\\nIt\"}          }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"'s a beautiful\"} }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" day in NYC\"}             }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"! Perfect\"}  }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" weather for being\"}             }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" outdoors.\"}              }\n\nevent: content_block_stop\ndata: {\"type\":\"content_block_stop\",\"index\":0       }\n\nevent: message_delta\ndata: {\"type\":\"message_delta\",\"delta\":{\"stop_reason\":\"end_turn\",\"stop_sequence\":null},\"usage\":{\"input_tokens\":129,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"output_tokens\":45}              }\n\nevent: message_stop\ndata: {\"type\":\"message_stop\"      }\n\n"
  }
}